# ğŸ» Kampai ä¼šç¤¾é£²ã¿ä¼šæ”¯æ´Webã‚¢ãƒ—ãƒª ä»•æ§˜æ›¸

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

| é …ç›®       | å†…å®¹                          |
| -------- | --------------------------- |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå  | Kampai                      |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼   | ç¤¾å†…ã®é£²ã¿ä¼šå¸«ã€ãŠã‚ˆã³ãã®å‚åŠ è€…            |
| ç›®çš„       | å¸«æ¥­å‹™ã®åŠ¹ç‡åŒ–ï¼ˆåº—æ¢ã—ãƒ»æŠ•ç¥¨ãƒ»äºˆç´„ãƒ»é€šçŸ¥ãªã©ã‚’ä¸€å…ƒåŒ–ï¼‰ |
| ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  | Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆPCãƒ»ã‚¹ãƒãƒ›ä¸¡å¯¾å¿œï¼‰      |

---

## 2. æ©Ÿèƒ½ä¸€è¦§

### â˜‘ ï¸ å¸«å‘ã‘æ©Ÿèƒ½

| æ©Ÿèƒ½å     | èª¬æ˜                               |
| ------- | -------------------------------- |
| é£²ã¿ä¼šä½œæˆ   | ã‚¿ã‚¤ãƒˆãƒ«ã€æ—¥ç¨‹å€™è£œã€äºˆç®—ã€äººæ•°ãªã©ã‚’å…¥åŠ›ã—ã¦æ–°è¦ä½œæˆå¯èƒ½     |
| åº—èˆ—æ¤œç´¢    | ã‚¨ãƒªã‚¢ãƒ»ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»äºˆç®—ãƒ»äººæ•°ãƒ»æ¡ä»¶ã§ãŠåº—ã‚’æ¤œç´¢ï¼ˆAPIé€£æºï¼‰   |
| å€™è£œåº—ç™»éŒ²   | æ°—ã«ãªã‚‹ãŠåº—ã‚’å€™è£œã¨ã—ã¦ç™»éŒ²ã—ã€æŠ•ç¥¨ç”¨ã«å…±æœ‰å¯èƒ½         |
| æŠ•ç¥¨ç®¡ç†    | æŠ•ç¥¨ã®é›†è¨ˆçµæœã‚’ç¢ºèªã—ã€æ±ºå®šã—ãŸãŠåº—ã‚’ç¢ºå®šã§ãã‚‹         |
| äºˆç´„æƒ…å ±ç®¡ç†  | ç¢ºå®šã—ãŸãŠåº—ã®äºˆç´„å†…å®¹ï¼ˆæ—¥æ™‚ãƒ»äººæ•°ï¼‰ã‚’è¨˜éŒ²            |
| ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥ | Slack/LINEãªã©ã§å‚åŠ è€…ã«é€šçŸ¥ï¼ˆæŠ•ç¥¨ãƒ»ç¢ºå®šãƒ»ãƒªãƒã‚¤ãƒ³ãƒ‰ï¼‰ |

### â˜‘ ï¸ å‚åŠ è€…å‘ã‘æ©Ÿèƒ½

| æ©Ÿèƒ½å     | èª¬æ˜                      |
| ------- | ----------------------- |
| æ‹›å¾…URLå‚åŠ  | å¸«ã‹ã‚‰é€ã‚‰ã‚ŒãŸURLã‹ã‚‰æŠ•ç¥¨ã«å‚åŠ ã§ãã‚‹    |
| å€™è£œã¸ã®æŠ•ç¥¨  | å€™è£œã¨ãªã£ã¦ã„ã‚‹ãŠåº—ã‹ã‚‰å¥½ããªã‚‚ã®ã‚’é¸ã‚“ã§æŠ•ç¥¨ |
| çµæœç¢ºèª    | æœ€çµ‚æ±ºå®šã•ã‚ŒãŸãŠåº—æƒ…å ±ã‚’å‚ç…§ã§ãã‚‹       |

---

## 3. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

| ãƒ¬ã‚¤ãƒ¤     | ä½¿ç”¨æŠ€è¡“                          |
| ------- | ----------------------------- |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | React + TypeScript + Tailwind |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰  | Java (Spring Boot)            |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹  | PostgreSQL                    |
| APIé€£æº   | ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼ API, Google Maps API  |
| CI/CD   | GitHub Actions                |
| å®Ÿè¡Œç’°å¢ƒ    | Docker + docker-compose       |

---

## 4. REST APIè¨­è¨ˆ

### ğŸ¥‚ é£²ã¿ä¼šé–¢é€£

| ãƒ¡ã‚½ãƒƒãƒ‰   | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ            | èª¬æ˜      |
| ------ | ------------------ | ------- |
| GET    | `/api/events`      | é£²ã¿ä¼šä¸€è¦§å–å¾— |
| POST   | `/api/events`      | é£²ã¿ä¼šä½œæˆ   |
| GET    | `/api/events/{id}` | è©³ç´°å–å¾—    |
| PUT    | `/api/events/{id}` | é£²ã¿ä¼šæ›´æ–°   |
| DELETE | `/api/events/{id}` | é£²ã¿ä¼šå‰Šé™¤   |

### ğŸ½ å€™è£œåº—èˆ—é–¢é€£

| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ                        | èª¬æ˜      |
| ---- | ------------------------------ | ------- |
| POST | `/api/events/{id}/candidates`  | å€™è£œåº—ã®è¿½åŠ   |
| GET  | `/api/events/{id}/candidates`  | å€™è£œåº—ä¸€è¦§   |
| POST | `/api/events/{id}/vote`        | å€™è£œåº—ã¸ã®æŠ•ç¥¨ |
| GET  | `/api/events/{id}/vote/result` | æŠ•ç¥¨çµæœå–å¾—  |

---

## 5. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆï¼ˆæ¦‚è¦ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ«å        | æ¦‚è¦             |
| ------------ | -------------- |
| users        | å¸«ãƒ»å‚åŠ è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±    |
| events       | é£²ã¿ä¼šã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±      |
| candidates   | å€™è£œåº—èˆ—æƒ…å ±ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã”ã¨ï¼‰ |
| votes        | æŠ•ç¥¨æƒ…å ±ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼Ã—å€™è£œåº—ï¼‰ |
| reservations | äºˆç´„ç¢ºå®šæƒ…å ±         |

---

## 6. é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

* [ ] MVPãƒªãƒªãƒ¼ã‚¹ï¼ˆæ¤œç´¢ãƒ»æŠ•ç¥¨ãƒ»æ±ºå®šï¼‰
* [ ] æ‹›å¾…URLã®æš—å·åŒ–ã¨æœ‰åŠ¹æœŸé™æ©Ÿèƒ½
* [ ] Slack/LINEé€šçŸ¥ã®åˆ‡æ›¿æ©Ÿèƒ½
* [ ] Google Calendaré€£æº
* [ ] å¤šè¨€èªå¯¾å¿œï¼ˆæ—¥æœ¬èª/è‹±èªï¼‰

## Kampai ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ ERå›³ (Entity Relationship Diagram)

```mermaid
erDiagram
    USERS ||--o{ EVENTS : creates
    USERS ||--o{ VOTES : votes
    EVENTS ||--o{ CANDIDATES : has
    EVENTS ||--o{ VOTES : contains
    EVENTS ||--|| RESERVATIONS : confirms
    CANDIDATES ||--o{ VOTES : receives

    USERS {
        UUID id PK
        string name
        string email
        boolean is_organizer
        timestamp created_at
    }

    EVENTS {
        UUID id PK
        string title
        date date
        integer max_participants
        string location
        UUID created_by FK >- USERS.id
        timestamp created_at
    }

    CANDIDATES {
        UUID id PK
        UUID event_id FK >- EVENTS.id
        string name
        string address
        string genre
        string image_url
        timestamp created_at
    }

    VOTES {
        UUID id PK
        UUID user_id FK >- USERS.id
        UUID candidate_id FK >- CANDIDATES.id
        UUID event_id FK >- EVENTS.id
        integer vote_point
        timestamp voted_at
    }

    RESERVATIONS {
        UUID id PK
        UUID event_id FK >- EVENTS.id
        string reserved_place_name
        string reserved_time
        integer participant_count
        timestamp created_at
    }
```

> å‚™è€ƒï¼šERå›³ã¯Mermaidè¨˜æ³•ã§è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚GitHubãªã©ã§è¡¨ç¤ºã•ã›ã‚‹ã«ã¯ã€å¯¾å¿œãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¾ãŸã¯å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚


# Kampai REST API è¨­è¨ˆæ›¸

## ãƒ™ãƒ¼ã‚¹URL

```
/api
```

---

## 1. é£²ã¿ä¼šé–¢é€£ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### GET /events

* èª¬æ˜: å…¨ã¦ã®é£²ã¿ä¼šã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—
* ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:

```json
[
  {
    "id": "uuid",
    "title": "6æœˆé£²ã¿ä¼š",
    "date": "2025-06-30",
    "location": "æ¸‹è°·",
    "created_by": "user-uuid",
    "max_participants": 10
  }
]
```

### POST /events

* èª¬æ˜: é£²ã¿ä¼šã‚¤ãƒ™ãƒ³ãƒˆã‚’æ–°è¦ä½œæˆ
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:

```json
{
  "title": "æ­“è¿ä¼š",
  "date": "2025-07-01",
  "location": "æ–°å®¿",
  "max_participants": 15,
  "created_by": "user-uuid"
}
```

* ãƒ¬ã‚¹ãƒãƒ³ã‚¹: ä½œæˆã•ã‚ŒãŸã‚¤ãƒ™ãƒ³ãƒˆã®æƒ…å ±ï¼ˆHTTP 201ï¼‰

### GET /events/{id}

* èª¬æ˜: ç‰¹å®šã‚¤ãƒ™ãƒ³ãƒˆã®è©³ç´°ã‚’å–å¾—

### PUT /events/{id}

* èª¬æ˜: ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã®æ›´æ–°

### DELETE /events/{id}

* èª¬æ˜: ã‚¤ãƒ™ãƒ³ãƒˆã®å‰Šé™¤

---

## 2. å€™è£œåº—èˆ—é–¢é€£ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### GET /events/{id}/candidates

* èª¬æ˜: æŒ‡å®šã‚¤ãƒ™ãƒ³ãƒˆã«ç´ã¥ãå€™è£œåº—èˆ—ã‚’ä¸€è¦§å–å¾—

### POST /events/{id}/candidates

* èª¬æ˜: å€™è£œåº—èˆ—ã‚’è¿½åŠ 
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:

```json
{
  "name": "é³¥è²´æ— æ–°å®¿åº—",
  "address": "æ±äº¬éƒ½æ–°å®¿åŒº...",
  "genre": "å±…é…’å±‹",
  "image_url": "https://image.example.com/triki.jpg"
}
```

---

## 3. æŠ•ç¥¨é–¢é€£ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### POST /events/{id}/vote

* èª¬æ˜: æŒ‡å®šã‚¤ãƒ™ãƒ³ãƒˆã®å€™è£œåº—èˆ—ã«æŠ•ç¥¨
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:

```json
{
  "user_id": "user-uuid",
  "candidate_id": "candidate-uuid",
  "vote_point": 1
}
```

### GET /events/{id}/vote/result

* èª¬æ˜: æŠ•ç¥¨çµæœã‚’é›†è¨ˆã—ã¦å–å¾—ï¼ˆå¾—ç¥¨æ•°é †ï¼‰

---

## 4. äºˆç´„æƒ…å ±

### GET /events/{id}/reservation

* èª¬æ˜: ã‚¤ãƒ™ãƒ³ãƒˆã«ç´ã¥ãäºˆç´„æƒ…å ±ã‚’å–å¾—

### POST /events/{id}/reservation

* èª¬æ˜: ãŠåº—ã®äºˆç´„æƒ…å ±ã‚’ç™»éŒ²
* ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:

```json
{
  "reserved_place_name": "é³¥è²´æ— æ–°å®¿åº—",
  "reserved_time": "2025-07-01T19:00:00",
  "participant_count": 12
}
```

---

## 5. å‚åŠ è€…å‘ã‘æ©Ÿèƒ½

### GET /events/{id}/invite/{token}

* èª¬æ˜: æ‹›å¾…URLã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã¸ã‚¢ã‚¯ã‚»ã‚¹

### POST /events/{id}/invite/{token}/vote

* èª¬æ˜: åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‹›å¾…URLçµŒç”±ã§æŠ•ç¥¨ï¼ˆuser\_idã¯ä¸è¦ï¼‰


# Kampai UI ãƒ¢ãƒƒã‚¯æ¡ˆ

## ğŸ‰ ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ä¸è¦ï¼‰

* ã‚¿ã‚¤ãƒˆãƒ«ï¼šKampai - ç¤¾å†…é£²ã¿ä¼šèª¿æ•´ã‚¢ãƒ—ãƒª
* CTAãƒœã‚¿ãƒ³ï¼š

  * ã€Œæ–°ã—ã„é£²ã¿ä¼šã‚’ä½œæˆã™ã‚‹ã€
  * ã€Œæ‹›å¾…ãƒªãƒ³ã‚¯ã‹ã‚‰å‚åŠ ã™ã‚‹ã€

---

## ğŸ“ é£²ã¿ä¼šä½œæˆãƒšãƒ¼ã‚¸ï¼ˆå¹¹äº‹ç”¨ï¼‰

* å…¥åŠ›é …ç›®ï¼š

  * é£²ã¿ä¼šã‚¿ã‚¤ãƒˆãƒ«ï¼ˆtextï¼‰
  * é–‹å‚¬å€™è£œæ—¥ï¼ˆè¤‡æ•°é¸æŠå¯ã€ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å½¢å¼ï¼‰
  * äººæ•°ä¸Šé™ï¼ˆnumberï¼‰
  * ã‚¨ãƒªã‚¢ï¼ˆã‚»ãƒ¬ã‚¯ãƒˆ or ãƒ•ãƒªãƒ¼ãƒ†ã‚­ã‚¹ãƒˆï¼‰
  * äºˆç®—ï¼ˆã‚»ãƒ¬ã‚¯ãƒˆ or ãƒ†ã‚­ã‚¹ãƒˆï¼‰
* ã€Œé£²ã¿ä¼šã‚’ä½œæˆã™ã‚‹ã€ãƒœã‚¿ãƒ³ â†’ ä½œæˆå¾Œã«å€™è£œåº—æ¤œç´¢ç”»é¢ã¸é·ç§»

---

## ğŸ” å€™è£œåº—èˆ—æ¤œç´¢ãƒ»ç™»éŒ²ãƒšãƒ¼ã‚¸

* æ¤œç´¢æ¡ä»¶

  * ã‚¨ãƒªã‚¢ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€äºˆç®—ã€äººæ•°
* çµæœãƒªã‚¹ãƒˆï¼ˆã‚«ãƒ¼ãƒ‰å½¢å¼ï¼‰

  * åº—åã€ä½æ‰€ã€ã‚¸ãƒ£ãƒ³ãƒ«ã€ã‚µãƒ ãƒã‚¤ãƒ«ã€è©³ç´°ãƒªãƒ³ã‚¯
  * ã€Œå€™è£œã«è¿½åŠ ã€ãƒœã‚¿ãƒ³
* å€™è£œãƒªã‚¹ãƒˆè¡¨ç¤ºï¼ˆã‚µã‚¤ãƒ‰ or ä¸‹éƒ¨ï¼‰

---

## ğŸ—³ æŠ•ç¥¨ãƒšãƒ¼ã‚¸ï¼ˆå‚åŠ è€…ãƒ»å¹¹äº‹å…±é€šï¼‰

* é£²ã¿ä¼šå + é–‹å‚¬äºˆå®šæ—¥ + äººæ•°
* å€™è£œåº—ä¸€è¦§ï¼ˆãƒã‚§ãƒƒã‚¯å¼ or æ˜Ÿè©•ä¾¡ï¼‰
* æŠ•ç¥¨ãƒœã‚¿ãƒ³
* æŠ•ç¥¨æ¸ˆã¿ãªã‚‰ã€Œçµæœã‚’è¦‹ã‚‹ã€ãƒªãƒ³ã‚¯ã¸

---

## ğŸ“Š æŠ•ç¥¨çµæœãƒšãƒ¼ã‚¸

* åº—èˆ—ã”ã¨ã®å¾—ç¥¨æ•°ï¼ˆæ£’ã‚°ãƒ©ãƒ• or ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼‰
* å¹¹äº‹ã¯ã€Œã“ã®åº—ã‚’äºˆç´„ã«æ±ºå®šã€ãƒœã‚¿ãƒ³

---

## ğŸ“… äºˆç´„ç¢ºèªãƒšãƒ¼ã‚¸ï¼ˆå¹¹äº‹ã®ã¿ï¼‰

* ç¢ºå®šã—ãŸãŠåº—æƒ…å ±

  * åº—åã€æ—¥æ™‚ã€ä½æ‰€ã€äººæ•°
* ãƒªãƒã‚¤ãƒ³ãƒ‰é€ä¿¡ãƒœã‚¿ãƒ³ï¼ˆSlack/LINEæƒ³å®šï¼‰

---

## âœ… å®Œäº†ãƒšãƒ¼ã‚¸ï¼ˆå‚åŠ è€…ç”¨ï¼‰

* ã€Œé£²ã¿ä¼šã¯â—‹æœˆâ—‹æ—¥ã€â–³â–³åº—ã§ç¢ºå®šã—ã¾ã—ãŸï¼ã€
* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ  / SNSã§å…±æœ‰ ãƒœã‚¿ãƒ³

---

> å‚™è€ƒï¼š
> ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§è¨­è¨ˆï¼ˆTailwind CSSï¼‰
> è‰²å‘³ã¯è¦ªã—ã¿ã‚„ã™ã„å’Œé¢¨ãƒˆãƒ¼ãƒ³ï¼ˆç´ºãƒ»å±±å¹ãƒ»ç™½ãªã©ï¼‰



```
docker-compose down -v
docker-compose up --build

docker exec -it backend-app-1 ./gradlew clean build
docker exec -it backend-app-1 ./gradlew test jacocoTestReport
rm -rf ./jacoco-report
docker cp backend-app-1:/app/build/reports/jacoco/test/html ./jacoco-report

```